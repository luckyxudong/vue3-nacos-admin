---
name: 菜单维护和页面创建
overview: 在概览菜单之后添加配置管理、服务管理、权限控制、命名空间、集群管理等菜单项及其子菜单，并创建对应的空页面文件。
todos:
  - id: update-i18n-zh
    content: 更新 src/i18n/locales/zh-CN.ts，添加所有新菜单项的中文翻译
    status: pending
  - id: update-i18n-en
    content: 更新 src/i18n/locales/en-US.ts，添加所有新菜单项的英文翻译
    status: pending
  - id: update-menu-store
    content: 更新 src/stores/modules/menu.ts，在概览菜单后添加所有新菜单配置
    status: pending
  - id: create-config-pages
    content: 创建配置管理相关页面：config/list.vue, config/history.vue, config/listen.vue
    status: pending
  - id: create-service-pages
    content: 创建服务管理相关页面：service/list.vue, service/subscribers.vue
    status: pending
  - id: create-permission-pages
    content: 创建权限控制相关页面：permission/users.vue, permission/roles.vue, permission/permissions.vue
    status: pending
  - id: create-namespace-page
    content: 创建命名空间页面：namespace.vue
    status: pending
  - id: create-cluster-pages
    content: 创建集群管理相关页面：cluster/nodes.vue
    status: pending
isProject: false
---

# 菜单维护和页面创建计划

## 需求概述

在现有的"概览"菜单之后，添加以下菜单结构：

1. **配置管理**（一级菜单）
   - 配置列表（二级菜单）
   - 历史版本（二级菜单）
   - 监听查询（二级菜单）

2. **服务管理**（一级菜单）
   - 服务列表（二级菜单）
   - 订阅者列表（二级菜单）

3. **权限控制**（一级菜单）
   - 用户列表（二级菜单）
   - 角色管理（二级菜单）
   - 权限管理（二级菜单）

4. **命名空间**（一级菜单）

5. **集群管理**（一级菜单）
   - 节点列表（二级菜单）

## 实现步骤

### 1. 更新国际化文件

在 `src/i18n/locales/zh-CN.ts` 和 `src/i18n/locales/en-US.ts` 的 `menu` 对象中添加新的菜单项翻译：

**中文翻译（zh-CN.ts）**：

- `configManagement: '配置管理'`
- `configList: '配置列表'`
- `configHistory: '历史版本'`
- `configListen: '监听查询'`
- `serviceManagement: '服务管理'`
- `serviceList: '服务列表'`
- `subscriberList: '订阅者列表'`
- `permissionControl: '权限控制'`
- `userList: '用户列表'`
- `roleManagement: '角色管理'`
- `permissionManagement: '权限管理'`
- `namespace: '命名空间'`
- `clusterManagement: '集群管理'`
- `nodeList: '节点列表'`

**英文翻译（en-US.ts）**：

- `configManagement: 'Config Management'`
- `configList: 'Config List'`
- `configHistory: 'History Versions'`
- `configListen: 'Listen Query'`
- `serviceManagement: 'Service Management'`
- `serviceList: 'Service List'`
- `subscriberList: 'Subscriber List'`
- `permissionControl: 'Permission Control'`
- `userList: 'User List'`
- `roleManagement: 'Role Management'`
- `permissionManagement: 'Permission Management'`
- `namespace: 'Namespace'`
- `clusterManagement: 'Cluster Management'`
- `nodeList: 'Node List'`

### 2. 更新菜单配置

在 `src/stores/modules/menu.ts` 中，在"概览"菜单项之后插入新的菜单项：

```typescript
// 在 menuItems 数组中，在 overview 之后添加：
{
  title: 'menu.configManagement',
  icon: 'i-mdi-cog-box',
  path: '/config',
  children: [
    {
      title: 'menu.configList',
      icon: 'i-mdi-format-list-bulleted',
      path: '/config/list',
    },
    {
      title: 'menu.configHistory',
      icon: 'i-mdi-history',
      path: '/config/history',
    },
    {
      title: 'menu.configListen',
      icon: 'i-mdi-ear-hearing',
      path: '/config/listen',
    },
  ],
},
{
  title: 'menu.serviceManagement',
  icon: 'i-mdi-server',
  path: '/service',
  children: [
    {
      title: 'menu.serviceList',
      icon: 'i-mdi-format-list-bulleted',
      path: '/service/list',
    },
    {
      title: 'menu.subscriberList',
      icon: 'i-mdi-account-group',
      path: '/service/subscribers',
    },
  ],
},
{
  title: 'menu.permissionControl',
  icon: 'i-mdi-shield-account',
  path: '/permission',
  children: [
    {
      title: 'menu.userList',
      icon: 'i-mdi-account',
      path: '/permission/users',
    },
    {
      title: 'menu.roleManagement',
      icon: 'i-mdi-account-key',
      path: '/permission/roles',
    },
    {
      title: 'menu.permissionManagement',
      icon: 'i-mdi-shield-check',
      path: '/permission/permissions',
    },
  ],
},
{
  title: 'menu.namespace',
  icon: 'i-mdi-folder-multiple',
  path: '/namespace',
},
{
  title: 'menu.clusterManagement',
  icon: 'i-mdi-server-network',
  path: '/cluster',
  children: [
    {
      title: 'menu.nodeList',
      icon: 'i-mdi-server',
      path: '/cluster/nodes',
    },
  ],
},
```

### 3. 创建页面文件

根据自动路由规则，在 `src/pages` 目录下创建对应的页面文件：

#### 3.1 配置管理相关页面

- `src/pages/config/list.vue` - 配置列表
- `src/pages/config/history.vue` - 历史版本
- `src/pages/config/listen.vue` - 监听查询

#### 3.2 服务管理相关页面

- `src/pages/service/list.vue` - 服务列表
- `src/pages/service/subscribers.vue` - 订阅者列表

#### 3.3 权限控制相关页面

- `src/pages/permission/users.vue` - 用户列表
- `src/pages/permission/roles.vue` - 角色管理
- `src/pages/permission/permissions.vue` - 权限管理

#### 3.4 命名空间页面

- `src/pages/namespace.vue` - 命名空间

#### 3.5 集群管理相关页面

- `src/pages/cluster/nodes.vue` - 节点列表

所有页面文件使用统一的空页面模板，参考 `src/pages/overview/analysis.vue` 的结构：

```vue
<template>
  <div class="page-container">
    <Card>
      <CardHeader>
        <CardTitle>{{ $t('menu.xxx') }}</CardTitle>
        <CardDescription>This is the {{ $t('menu.xxx') }} page.</CardDescription>
      </CardHeader>
      <CardContent>
        <div class="empty-state">
          <Icon icon="i-mdi-xxx" class="empty-icon" />
          <p>Content goes here</p>
        </div>
      </CardContent>
    </Card>
  </div>
</template>

<style scoped>
.page-container {
  @apply p-6;
}
.empty-state {
  @apply flex flex-col items-center justify-center p-12 text-muted-foreground border-2 border-dashed rounded-lg;
}
.empty-icon {
  @apply text-6xl mb-4 opacity-50;
}
</style>
```

### 4. 更新菜单展开状态

在 `src/stores/modules/menu.ts` 的 `expandedMenus` 初始化中，可以添加新的一级菜单路径，使其默认展开（可选）。

## 文件清单

### 需要修改的文件

1. `src/i18n/locales/zh-CN.ts` - 添加中文翻译
2. `src/i18n/locales/en-US.ts` - 添加英文翻译
3. `src/stores/modules/menu.ts` - 添加菜单配置

### 需要创建的文件

1. `src/pages/config/list.vue`
2. `src/pages/config/history.vue`
3. `src/pages/config/listen.vue`
4. `src/pages/service/list.vue`
5. `src/pages/service/subscribers.vue`
6. `src/pages/permission/users.vue`
7. `src/pages/permission/roles.vue`
8. `src/pages/permission/permissions.vue`
9. `src/pages/namespace.vue`
10. `src/pages/cluster/nodes.vue`

## 注意事项

1. 菜单路径需要与页面文件路径保持一致（基于自动路由规则）
2. 图标使用 Material Design Icons（MDI）的 UnoCSS 类名格式
3. 页面文件会自动生成对应的路由，无需手动配置
4. 确保菜单项的 `path` 与页面文件路径匹配
5. 一级菜单如果有子菜单，点击一级菜单项会展开/收起子菜单，不会跳转
6. 所有页面使用统一的空页面模板，后续可以根据需求填充具体内容
